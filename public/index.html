<!-- <p> test2 </p>


<form method="post" enctype="multipart/form-data" action="/faces">
  <input name='face' type="file">
  <button type="submit">submit</button>
</form> -->

<input id="face" name='face' type="file" accept="image/*" capture="user">
<!-- <input type="file" name="image" accept="image/*" capture="user"> -->
<button id="btnFace" type="submit">submit</button>
<br /><br /><br />
<div id="loading" style="display:none">Loading... </div>
<div id="img">

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
<script>
  $("#btnFace").click(function () {
    var file = $("#face")[0].files[0];
    var formData = new FormData();
    formData.append('face', file);

    $("#loading").show();

    $.ajax({
      type: "POST",
      url: "/faces",
      contentType: false,
      processData: false,
      enctype: 'multipart/form-data',
      data: formData,
      success: function (data) {
        var img = '<img src="data:image/png;base64,' + data + '"></img>';
        $('#img').html(img);

        $("#loading").hide();
      }, error: function () {
        $("#loading").hide();
      }
    });
  });

</script>